@import "tailwindcss";
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- ğŸ–¥ï¸ è¢å¹•é¡¯ç¤ºå°ˆç”¨è¨­å®š (Screen Base Styles) --- */

/* 1. ç¢ºä¿ React App ä½”æ»¿å…¨è¢å¹•ï¼Œé˜²æ­¢ç‰ˆé¢åå¡Œ */
html, body, #root {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  /* é—œéµï¼šéš±è—å¤–å±¤æ²è»¸ï¼Œäº¤ç”±å…§å±¤å®¹å™¨ (å¦‚ Sidebar/Canvas) æ»¾å‹• */
  overflow: hidden; 
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 2. è‡ªå®šç¾©æ»¾å‹•æ¢ (ç¾åŒ– Sidebar èˆ‡ Canvas) */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.5); /* gray-400 */
  border-radius: 20px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: rgba(107, 114, 128, 0.8); /* gray-500 */
}

/* 3. æ—¥å¼ç›´æ’æ–‡å­— (çµ¦åŒ¯å‡ºåŠŸèƒ½ç”¨) */
.writing-vertical {
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

/* --- ğŸ–¨ï¸ åˆ—å°èˆ‡åŒ¯å‡ºä¿®æ­£ (Print Only) --- */
/* é€™äº›æ¨£å¼åªæœ‰åœ¨æŒ‰ä¸‹ã€Œåˆ—å°ã€æˆ–ã€Œå­˜ç‚º PDFã€æ™‚æ‰æœƒç”Ÿæ•ˆ */
@media print {
  /* 1. éš±è—æ‰€æœ‰ç¶²é ä»‹é¢å…ƒç´  (Sidebar, Header, Maps) */
  body * {
    visibility: hidden;
  }

  /* 2. å”¯ä¸€é¡¯ç¤ºï¼šæˆ‘å€‘æŒ‡å®šçš„åˆ—å°å€åŸŸ */
  #print-area, #print-area * {
    visibility: visible;
  }

  /* 3. è¨­å®šç´™å¼µç’°å¢ƒ */
  @page {
    size: A4 portrait;
    margin: 0; /* ç”±æˆ‘å€‘çš„ CSS æ§åˆ¶é‚Šè· */
  }

  /* 4. å¼·åˆ¶é‚„åŸèƒŒæ™¯è‰²èˆ‡åœ–å½¢ (è§£æ±ºç™½åº•å•é¡Œ) */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* 5. æ ¸å¿ƒæ’ç‰ˆï¼šå¼·åˆ¶å°‡å…§å®¹é–å®šç‚ºé›»è…¦ç‰ˆå¯¬åº¦ä¸¦ç¸®æ”¾ */
  /* é€™èƒ½è§£æ±ºã€Œæ‰‹æ©Ÿç‰ˆæ¨£å¼è·‘å‡ºä¾†ã€çš„å•é¡Œ */
  #print-area {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    
    /* é–å®šå¯¬åº¦ï¼šç¢ºä¿é›™æ¬„æ’ç‰ˆ (md:grid-cols-2) ç”Ÿæ•ˆ */
    width: 1100px !important;
    min-width: 1100px !important;
    max-width: 1100px !important;
    
    /* è§£é™¤é«˜åº¦é™åˆ¶ï¼Œè®“å…§å®¹è‡ªç„¶æµå‹•åˆ°ä¸‹ä¸€é  */
    height: auto !important;
    overflow: visible !important;
    
    /* ç¸®æ”¾ï¼šå°‡ 1100px çš„å…§å®¹ç¸®å°å¡é€² A4 ç´™å¼µ (ç´„ 794px) */
    transform: scale(0.7) !important;
    transform-origin: top left !important;
    
    margin: 0 !important;
    padding: 40px !important; /* å¢åŠ ä¸€é»åˆ—å°é‚Šè· */
    background-color: white !important;
    box-shadow: none !important;
  }

  /* 6. é‡è¨­ Body å±¬æ€§ä»¥å…è¨±åˆ—å°é•·é é¢ */
  html, body {
    height: auto !important;
    width: auto !important;
    min-width: 1100px !important;
    overflow: visible !important;
    background: white !important;
  }

  /* 7. é˜²æ­¢åœ–ç‰‡èˆ‡æ–‡å­—åœ¨åˆ†é è™•è¢«åˆ‡æ–· */
  img {
    break-inside: avoid;
    max-width: 100% !important;
  }
  
  /* é¿å…æ¨™é¡Œç•™åœ¨ä¸Šä¸€é åº•éƒ¨ */
  h1, h2, h3 {
    break-after: avoid;
  }

  /* 8. ç¢ºä¿æ¯ä¸€å¤©çš„è¡Œç¨‹å€å¡Šç›¡é‡å®Œæ•´ */
  .break-inside-avoid {
    page-break-inside: avoid;
    break-inside: avoid;
    margin-bottom: 2rem;
  }
  
  /* 9. ä¿®å¾©æ—¥å¼ç›´æ’åœ¨åˆ—å°æ™‚çš„å…¼å®¹æ€§ */
  .writing-vertical {
    -webkit-writing-mode: vertical-rl;
    writing-mode: vertical-rl;
  }
}